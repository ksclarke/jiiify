(function(l){var j="https://www.google.com/m8/feeds/contacts/default/full?v=3.0&alt=json&max-results=@{limit|1000}&start-index=@{start|1}";l.init({google:{name:"Google Plus",oauth:{version:2,auth:"https://accounts.google.com/o/oauth2/auth",grant:"https://accounts.google.com/o/oauth2/token"},scope:{basic:"https://www.googleapis.com/auth/plus.me profile",email:"email",birthday:"",events:"",photos:"https://picasaweb.google.com/data/",videos:"http://gdata.youtube.com",friends:"https://www.google.com/m8/feeds, https://www.googleapis.com/auth/plus.login",files:"https://www.googleapis.com/auth/drive.readonly",publish:"",publish_files:"https://www.googleapis.com/auth/drive",create_event:"",offline_access:""},scope_delim:" ",login:function(q){if(q.qs.display==="none"){q.qs.display=""}if(q.qs.response_type==="code"){q.qs.access_type="offline"}if(q.options.force){q.qs.approval_prompt="force"}},base:"https://www.googleapis.com/",get:{me:"plus/v1/people/me","me/friends":"plus/v1/people/me/people/visible?maxResults=@{limit|100}","me/following":j,"me/followers":j,"me/contacts":j,"me/share":"plus/v1/people/me/activities/public?maxResults=@{limit|100}","me/feed":"plus/v1/people/me/activities/public?maxResults=@{limit|100}","me/albums":"https://picasaweb.google.com/data/feed/api/user/default?alt=json&max-results=@{limit|100}&start-index=@{start|1}","me/album":function(s,r){var q=s.query.id;delete s.query.id;r(q.replace("/entry/","/feed/"))},"me/photos":"https://picasaweb.google.com/data/feed/api/user/default?alt=json&kind=photo&max-results=@{limit|100}&start-index=@{start|1}","me/files":"drive/v2/files?q=%22@{parent|root}%22+in+parents+and+trashed=false&maxResults=@{limit|100}","me/folders":"drive/v2/files?q=%22@{id|root}%22+in+parents+and+mimeType+=+%22application/vnd.google-apps.folder%22+and+trashed=false&maxResults=@{limit|100}","me/folder":"drive/v2/files?q=%22@{id|root}%22+in+parents+and+trashed=false&maxResults=@{limit|100}"},post:{"me/files":b,"me/folders":function(r,q){r.data={title:r.data.name,parents:[{id:r.data.parent||"root"}],mimeType:"application/vnd.google-apps.folder"};q("drive/v2/files")}},put:{"me/files":b},del:{"me/files":"drive/v2/files/@{id}","me/folder":"drive/v2/files/@{id}"},wrap:{me:function(p){if(p.id){p.last_name=p.family_name||(p.name?p.name.familyName:null);p.first_name=p.given_name||(p.name?p.name.givenName:null);if(p.emails&&p.emails.length){p.email=p.emails[0].value}c(p)}return p},"me/friends":function(p){if(p.items){i(p);p.data=p.items;p.data.forEach(c);delete p.items}return p},"me/contacts":a,"me/followers":a,"me/following":a,"me/share":h,"me/feed":h,"me/albums":e,"me/photos":m,"default":e},xhr:function(q){if(q.method==="post"||q.method==="put"){o(q)}return true},form:false}});function f(p){return parseInt(p,10)}function h(p){i(p);p.data=p.items;delete p.items;return p}function k(p){if(p.error){return}if(!p.name){p.name=p.title||p.message}if(!p.picture){p.picture=p.thumbnailLink}if(!p.thumbnail){p.thumbnail=p.thumbnailLink}if(p.mimeType==="application/vnd.google-apps.folder"){p.type="folder";p.files="https://www.googleapis.com/drive/v2/files?q=%22"+p.id+"%22+in+parents"}return p}function n(p){return{source:p.url,width:p.width,height:p.height}}function m(p){p.data=p.feed.entry.map(d);delete p.feed}function e(p){i(p);if("feed" in p&&"entry" in p.feed){p.data=p.feed.entry.map(d);delete p.feed}else{if("entry" in p){return d(p.entry)}else{if("items" in p){p.data=p.items.map(k);delete p.items}else{k(p)}}}return p}function c(p){p.name=p.displayName||p.name;p.picture=p.picture||(p.image?p.image.url:null);p.thumbnail=p.picture}function a(x,w,v){i(x);var u=[];if("feed" in x&&"entry" in x.feed){var t=v.query.access_token;for(var s=0;s<x.feed.entry.length;s++){var p=x.feed.entry[s];p.id=p.id.$t;p.name=p.title.$t;delete p.title;if(p.gd$email){p.email=(p.gd$email&&p.gd$email.length>0)?p.gd$email[0].address:null;p.emails=p.gd$email;delete p.gd$email}if(p.updated){p.updated=p.updated.$t}if(p.link){var q=(p.link.length>0)?p.link[0].href:null;if(q&&p.link[0].gd$etag){q+=(q.indexOf("?")>-1?"&":"?")+"access_token="+t;p.picture=q;p.thumbnail=q}delete p.link}if(p.category){delete p.category}}x.data=x.feed.entry;delete x.feed}return x}function d(y){var z=y.media$group;var q=z.media$content.length?z.media$content[0]:{};var t=z.media$content||[];var s=z.media$thumbnail||[];var v=t.concat(s).map(n).sort(function(A,p){return A.width-p.width});var u=0;var x;var r={id:y.id.$t,name:y.title.$t,description:y.summary.$t,updated_time:y.updated.$t,created_time:y.published.$t,picture:q?q.url:null,pictures:v,images:[],thumbnail:q?q.url:null,width:q.width,height:q.height};if("link" in y){for(u=0;u<y.link.length;u++){var w=y.link[u];if(w.rel.match(/\#feed$/)){r.upload_location=r.files=r.photos=w.href;break}}}if("category" in y&&y.category.length){x=y.category;for(u=0;u<x.length;u++){if(x[u].scheme&&x[u].scheme.match(/\#kind$/)){r.type=x[u].term.replace(/^.*?\#/,"")}}}if("media$thumbnail" in z&&z.media$thumbnail.length){x=z.media$thumbnail;r.thumbnail=x[0].url;r.images=x.map(n)}x=z.media$content;if(x&&x.length){r.images.push(n(x[0]))}return r}function i(q){if("feed" in q&&q.feed.openSearch$itemsPerPage){var p=f(q.feed.openSearch$itemsPerPage.$t);var s=f(q.feed.openSearch$startIndex.$t);var r=f(q.feed.openSearch$totalResults.$t);if((s+p)<r){q.paging={next:"?start="+(s+p)}}}else{if("nextPageToken" in q){q.paging={next:"?pageToken="+q.nextPageToken}}}}function g(){var u=[];var v=(Math.random()*10000000000).toString(32);var p=0;var q="\r\n";var r=q+"--"+v;var w=function(){};var x=/^data\:([^;,]+(\;charset=[^;,]+)?)(\;base64)?,/i;function t(z){var y=new FileReader();y.onload=function(A){s(btoa(A.target.result),z.type+q+"Content-Transfer-Encoding: base64")};y.readAsBinaryString(z)}function s(z,y){u.push(q+"Content-Type: "+y+q+q+z);p--;w()}this.append=function(C,A){if(typeof(C)==="string"||!("length" in Object(C))){C=[C]}for(var z=0;z<C.length;z++){p++;var B=C[z];if((typeof(File)!=="undefined"&&B instanceof File)||(typeof(Blob)!=="undefined"&&B instanceof Blob)){t(B)}else{if(typeof(B)==="string"&&B.match(x)){var y=B.match(x);s(B.replace(x,""),y[1]+q+"Content-Transfer-Encoding: base64")}else{s(B,A)}}}};this.onready=function(y){w=function(){if(p===0){u.unshift("");u.push("--");y(u.join(r),v);u=[]}};w()}}function b(u,t){var r={};if(u.data&&(typeof(HTMLInputElement)!=="undefined"&&u.data instanceof HTMLInputElement)){u.data={file:u.data}}if(!u.data.name&&Object(Object(u.data.file).files).length&&u.method==="post"){u.data.name=u.data.file.files[0].name}if(u.method==="post"){u.data={title:u.data.name,parents:[{id:u.data.parent||"root"}],file:u.data.file}}else{r=u.data;u.data={};if(r.parent){u.data.parents=[{id:u.data.parent||"root"}]}if(r.file){u.data.file=r.file}if(r.name){u.data.title=r.name}}var q;if("file" in u.data){q=u.data.file;delete u.data.file;if(typeof(q)==="object"&&"files" in q){q=q.files}if(!q||!q.length){t({error:{code:"request_invalid",message:"There were no files attached with this request to upload"}});return}}var s=new g();s.append(JSON.stringify(u.data),"application/json");if(q){s.append(q)}s.onready(function(p,v){u.headers["content-type"]='multipart/related; boundary="'+v+'"';u.data=p;t("upload/drive/v2/files"+(r.id?"/"+r.id:"")+"?uploadType=multipart")})}function o(r){if(typeof(r.data)==="object"){try{r.data=JSON.stringify(r.data);r.headers["content-type"]="application/json"}catch(q){}}}})(hello);